@using WCGChairBuy.Web.ViewModels
@model List<OrderVModel>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutManage.cshtml";
}
<style>
li {
        list-style: none;
    }   
</style>


<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">订单列表</h3>
    </div>
    <div class="panel-body">

        <table class="table">
            <thead>
                <tr>
                    <th>产品</th>
                    <th>订单号</th>
                    <th>收货人</th>
                    <th>收货地址</th>
                    <th>订单状态</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model.GroupBy(t => new { t.OrderNo, t.OrderStatus, t.Receiver,t.Address,t.OrderStatusName }).ToList())
                {

                    <tr>
                        <td>
                            <ul>
                                @foreach (var detail in order.ToList())
                                {
                                    <li>
                                        <img src="~/Images/@detail.ImageUrl" height="60" />
                                        <a class="btn btn-link">@detail.ProductName</a>
                                    </li>
                                }
                            </ul>
                        </td>
                        <td><span>@order.Key.OrderNo</span></td>
                        <td><span>@order.Key.Receiver</span></td>
                        <td><span>@order.Key.Address</span></td>
                        <td><span>@order.Key.OrderStatusName</span></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

</div>



